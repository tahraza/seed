<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nand2tetris-codex - IDE P√©dagogique</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="visualizers.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">üéì nand2tetris-codex</h1>
            </div>
            <nav class="header-nav">
                <button class="nav-btn" data-mode="hdl">
                    <span class="nav-icon">‚ö°</span>
                    <span class="nav-label">HDL</span>
                </button>
                <button class="nav-btn active" data-mode="asm">
                    <span class="nav-icon">üìù</span>
                    <span class="nav-label">ASM</span>
                </button>
                <button class="nav-btn" data-mode="c">
                    <span class="nav-icon">üîß</span>
                    <span class="nav-label">C</span>
                </button>
            </nav>
            <div class="header-right">
                <a href="visualizer.html" class="visualizer-link" title="CPU Visualizer">
                    <span class="viz-icon">üî¨</span>
                    <span class="viz-label">Visualizer</span>
                </a>
                <button class="icon-btn" id="btn-save-progress" title="Sauvegarder la progression">üíæ</button>
                <button class="icon-btn" id="btn-load-progress" title="Restaurer la progression">üìÇ</button>
                <button class="icon-btn" id="btn-reset-progress" title="R√©initialiser la progression">üóëÔ∏è</button>
                <button class="icon-btn" id="btn-help" title="Aide">‚ùì</button>
                <button class="icon-btn" id="btn-theme" title="Th√®me">üåô</button>
                <input type="file" id="progress-file-input" accept=".json" style="display: none;">
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Editor Panel (Split View) -->
            <section class="panel editor-panel split-editor">
                <!-- Left: Source Code Editor -->
                <div class="editor-left">
                    <div class="panel-header">
                        <div class="tabs" id="file-tabs">
                            <button class="tab active" data-file="main">main.asm</button>
                            <button class="tab-add" id="btn-new-file" title="Nouveau fichier">+</button>
                        </div>
                        <div class="panel-actions">
                            <button class="action-btn" id="btn-open" title="Ouvrir fichier">
                                <span>üìÇ</span> Ouvrir
                            </button>
                            <button class="action-btn" id="btn-save" title="Sauvegarder">
                                <span>üíæ</span> Sauver
                            </button>
                        </div>
                    </div>
                    <div class="panel-content">
                        <div id="editor-container"></div>
                    </div>
                </div>

                <!-- Right: Output Panel (mode-dependent) -->
                <div class="editor-right" id="output-panel">
                    <!-- HDL Mode: Chip specification and tests -->
                    <div class="output-section output-hdl" id="output-hdl">
                        <div class="output-header">
                            <span class="output-title">Chip: <span id="current-chip-name">Inv</span></span>
                            <div class="hdl-header-actions">
                                <button class="action-btn small" id="btn-test-hdl" title="Tester le chip">
                                    ‚úì Test
                                </button>
                                <button class="action-btn small solution" id="btn-solution-hdl" title="Voir la solution">
                                    üí°
                                </button>
                            </div>
                        </div>
                        <div class="output-content">
                            <!-- Chip specification -->
                            <div class="chip-spec" id="chip-spec">
                                <div class="chip-desc" id="chip-desc">Inverseur (porte NOT)</div>
                                <div class="chip-interface" id="chip-interface"></div>
                                <div class="chip-deps" id="chip-deps"></div>
                            </div>

                            <!-- Expected tests (truth table) -->
                            <div class="chip-tests">
                                <div class="chip-tests-title">Table de v√©rit√© attendue</div>
                                <div class="truth-table" id="truth-table"></div>
                            </div>

                            <!-- Test results after running -->
                            <div class="test-results" id="hdl-test-results" style="display: none;">
                                <div class="test-results-header">
                                    <span class="test-results-title">R√©sultats</span>
                                    <span class="test-results-summary" id="test-summary">0/0</span>
                                </div>
                                <div id="test-results-list"></div>
                            </div>
                        </div>
                    </div>

                    <!-- ASM Mode: Assembled binary -->
                    <div class="output-section output-asm" id="output-asm" style="display: none;">
                        <div class="output-header">
                            <span class="output-title">Listing ASM ‚Üí Binaire</span>
                            <button class="action-btn small" id="btn-download-a32b" title="T√©l√©charger .a32b">
                                ‚¨á .a32b
                            </button>
                        </div>
                        <div class="output-content">
                            <pre id="asm-binary-output" class="binary-output">Appuyez sur Run pour assembler...</pre>
                        </div>
                    </div>

                    <!-- C Mode: Generated assembly -->
                    <div class="output-section output-c" id="output-c" style="display: none;">
                        <div class="output-header">
                            <span class="output-title">Code ASM G√©n√©r√©</span>
                            <button class="action-btn small" id="btn-copy-asm" title="Copier ASM">
                                üìã Copier
                            </button>
                        </div>
                        <div class="output-content">
                            <div id="asm-output-container"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Simulator Panel -->
            <section class="panel simulator-panel">
                <!-- Controls -->
                <div class="controls-bar">
                    <button class="ctrl-btn primary" id="btn-run" title="Ex√©cuter (F5)">
                        ‚ñ∂ Run
                    </button>
                    <button class="ctrl-btn" id="btn-pause" title="Pause">‚è∏</button>
                    <button class="ctrl-btn" id="btn-stop" title="Stop (Shift+F5)">‚èπ</button>
                    <button class="ctrl-btn" id="btn-step" title="Step (F10)">‚è≠</button>
                    <button class="ctrl-btn" id="btn-reset" title="Reset">üîÑ</button>
                    <div class="speed-control">
                        <label>Vitesse</label>
                        <input type="range" id="speed-slider" min="1" max="100" value="50">
                    </div>
                </div>

                <!-- Screen -->
                <div class="screen-wrapper">
                    <div class="screen-title">√âcran 320√ó240</div>
                    <canvas id="screen" width="320" height="240"></canvas>
                </div>

                <!-- Keyboard -->
                <div class="keyboard-section">
                    <div class="section-title">
                        Clavier
                        <label class="keyboard-toggle">
                            <input type="checkbox" id="keyboard-capture">
                            <span>Capture</span>
                        </label>
                    </div>
                    <div class="keyboard-display">
                        <div class="key-info">
                            <span class="key-label">Touche:</span>
                            <span class="key-value" id="key-char">-</span>
                        </div>
                        <div class="key-info">
                            <span class="key-label">Code:</span>
                            <span class="key-value" id="key-code">0x0000</span>
                        </div>
                    </div>
                    <div class="keyboard-hint">
                        Activez "Capture" puis cliquez sur l'√©cran pour envoyer des touches au simulateur
                    </div>
                </div>

                <!-- Registers -->
                <div class="registers-section">
                    <div class="section-title">Registres</div>
                    <div class="registers-grid" id="registers"></div>
                    <div class="flags-row">
                        <span class="flag" data-flag="n">N</span>
                        <span class="flag" data-flag="z">Z</span>
                        <span class="flag" data-flag="c">C</span>
                        <span class="flag" data-flag="v">V</span>
                    </div>
                </div>

                <!-- Memory View -->
                <details class="memory-section">
                    <summary>M√©moire</summary>
                    <div class="memory-addr-bar">
                        <input type="text" id="mem-addr" value="0x00000000" placeholder="Adresse">
                        <button class="small-btn" id="btn-mem-go">Go</button>
                    </div>
                    <div class="memory-grid" id="memory-view"></div>
                </details>

                <!-- Visualizers -->
                <details class="visualizers-section" open>
                    <summary>Visualisations</summary>
                    <div class="visualizer-tabs">
                        <button class="viz-tab active" data-viz="memory">M√©moire</button>
                        <button class="viz-tab" data-viz="callstack">Pile</button>
                        <button class="viz-tab" data-viz="waveform">Signaux</button>
                        <button class="viz-tab" data-viz="alu">ALU</button>
                    </div>
                    <div class="visualizer-panels">
                        <div class="viz-panel active" id="memory-visualizer"></div>
                        <div class="viz-panel" id="callstack-visualizer"></div>
                        <div class="viz-panel" id="waveform-visualizer"></div>
                        <div class="viz-panel" id="alu-visualizer"></div>
                    </div>
                </details>
            </section>

            <!-- Progression Panel -->
            <aside class="panel progression-panel">
                <div class="panel-header">
                    <h2>üìö Parcours</h2>
                </div>

                <!-- Progress Bar -->
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span class="progress-text" id="progress-text">0%</span>
                </div>

                <!-- HDL Chips Progress -->
                <div class="hdl-progress-section">
                    <button class="section-header expanded" id="hdl-section-toggle">
                        <span class="arrow">‚ñº</span>
                        <span>üîß Chips HDL</span>
                    </button>
                    <div class="hdl-section-content" id="hdl-section-content">
                        <p class="hdl-hint">Construis chaque chip en utilisant uniquement NAND et les chips d√©j√† valid√©s</p>
                        <div id="hdl-chips"></div>
                    </div>
                </div>

                <!-- Exercises Curriculum -->
                <div class="curriculum" id="curriculum">
                    <!-- ASM: Assembleur -->
                    <div class="curriculum-week">
                        <button class="week-header" data-week="asm-ex">
                            <span class="arrow">‚ñ∂</span>
                            <span class="week-title">ASM: Assembleur</span>
                            <span class="week-progress">0/37</span>
                        </button>
                        <div class="week-content collapsed" id="asm-ex">
                            <!-- Basics -->
                            <div class="lesson-group-title">Bases</div>
                            <a href="#" class="lesson-item" data-lesson="asm-hello" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Hello World</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-add" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Addition</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-sub" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Soustraction</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-logic" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Logique</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-double" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Doubler</span>
                            </a>
                            <!-- Control Flow -->
                            <div class="lesson-group-title">Contr√¥le</div>
                            <a href="#" class="lesson-item" data-lesson="asm-cond" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Conditions</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-abs" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Valeur Absolue</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-loop" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Boucles</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-mult" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Multiplication</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-fib" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Fibonacci</span>
                            </a>
                            <!-- Memory -->
                            <div class="lesson-group-title">M√©moire</div>
                            <a href="#" class="lesson-item" data-lesson="asm-array" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Tableaux</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-max" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Maximum Tableau</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-mem" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>M√©moire</span>
                            </a>
                            <!-- Structures -->
                            <div class="lesson-group-title">Structures</div>
                            <a href="#" class="lesson-item" data-lesson="asm-struct" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Structure Simple</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-struct-init" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Initialiser Structure</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-struct-rect" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Structure Rectangle</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-struct-array" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Tableau de Structures</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-struct-sum-xy" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Somme x+y Structures</span>
                            </a>
                            <!-- Functions -->
                            <div class="lesson-group-title">Fonctions</div>
                            <a href="#" class="lesson-item" data-lesson="asm-func" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Fonctions</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-func2" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Fonction Add3</span>
                            </a>
                            <!-- I/O -->
                            <div class="lesson-group-title">Entr√©es/Sorties</div>
                            <a href="#" class="lesson-item" data-lesson="asm-putc" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>√âcrire Caract√®re</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-hello-str" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Hello String</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-print-loop" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Print Loop</span>
                            </a>
                            <!-- Screen -->
                            <div class="lesson-group-title">√âcran</div>
                            <a href="#" class="lesson-item" data-lesson="asm-pixel" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Pixel</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-hline" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Ligne Horizontale</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-vline" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Ligne Verticale</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-rect" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Rectangle</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-checkerboard" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Damier</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-gradient" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>D√©grad√© (Dithering)</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-gradient-full" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>D√©grad√© Complet</span>
                            </a>
                            <!-- Jeux -->
                            <div class="lesson-group-title">Jeux</div>
                            <a href="#" class="lesson-item" data-lesson="asm-getc" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Lire un Caract√®re</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-getc2" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Nombre √† 2 Chiffres</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-guess" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Deviner le Nombre</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-guess-loop" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Recherche Dichotomique</span>
                            </a>
                            <!-- Cache -->
                            <div class="lesson-group-title">Cache</div>
                            <a href="#" class="lesson-item" data-lesson="asm-cache-seq" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Acc√®s S√©quentiel</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-cache-stride" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>Acc√®s avec Stride</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="asm-cache-reuse" data-mode="asm">
                                <span class="status">‚óã</span>
                                <span>R√©utilisation Registre</span>
                            </a>
                        </div>
                    </div>

                    <!-- C: Compilateur -->
                    <div class="curriculum-week">
                        <button class="week-header" data-week="c-ex">
                            <span class="arrow">‚ñ∂</span>
                            <span class="week-title">C: Programmation</span>
                            <span class="week-progress">0/48</span>
                        </button>
                        <div class="week-content collapsed" id="c-ex">
                            <!-- Bases -->
                            <div class="lesson-group-title">Bases</div>
                            <a href="#" class="lesson-item" data-lesson="c-var" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Variables</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-expr" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Expressions</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-mod" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Modulo</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-incr" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Incr√©mentation</span>
                            </a>
                            <!-- Conditions -->
                            <div class="lesson-group-title">Conditions</div>
                            <a href="#" class="lesson-item" data-lesson="c-cond" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>If/Else</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-cond2" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Else-If</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-logic" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Op√©rateurs Logiques</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-max3" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Maximum de 3</span>
                            </a>
                            <!-- Boucles -->
                            <div class="lesson-group-title">Boucles</div>
                            <a href="#" class="lesson-item" data-lesson="c-loop" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Boucle For</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-while" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Boucle While</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-nested" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Boucles Imbriqu√©es</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-mult" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Multiplication</span>
                            </a>
                            <!-- Fonctions -->
                            <div class="lesson-group-title">Fonctions</div>
                            <a href="#" class="lesson-item" data-lesson="c-func" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Fonctions</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-func2" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Param√®tres Multiples</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-abs" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Valeur Absolue</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-minmax" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Min et Max</span>
                            </a>
                            <!-- Tableaux -->
                            <div class="lesson-group-title">Tableaux</div>
                            <a href="#" class="lesson-item" data-lesson="c-array" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Tableaux</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-array-max" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Maximum Tableau</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-array-count" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Compter √âl√©ments</span>
                            </a>
                            <!-- Pointeurs -->
                            <div class="lesson-group-title">Pointeurs</div>
                            <a href="#" class="lesson-item" data-lesson="c-ptr" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Pointeurs</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-swap" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Swap</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-ptr-arr" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Pointeurs et Tableaux</span>
                            </a>
                            <!-- Bits -->
                            <div class="lesson-group-title">Bits</div>
                            <a href="#" class="lesson-item" data-lesson="c-bitwise" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Op√©rations Binaires</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-ispow2" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Puissance de 2</span>
                            </a>
                            <!-- R√©cursion -->
                            <div class="lesson-group-title">R√©cursion</div>
                            <a href="#" class="lesson-item" data-lesson="c-recur" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Factorielle</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-fib" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Fibonacci</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-sum-recur" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Somme R√©cursive</span>
                            </a>
                            <!-- Algorithmes -->
                            <div class="lesson-group-title">Algorithmes</div>
                            <a href="#" class="lesson-item" data-lesson="c-gcd" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>PGCD (Euclide)</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-power" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Puissance</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-prime" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Test Primalit√©</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-sort" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Tri √† Bulles</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-search" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Recherche Binaire</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-reverse" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Inverser Tableau</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-digits" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Somme des Chiffres</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-palindrome" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Nombre Palindrome</span>
                            </a>
                            <!-- Structures -->
                            <div class="lesson-group-title">Structures</div>
                            <a href="#" class="lesson-item" data-lesson="c-struct-def" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>D√©finition Struct</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-struct-ptr" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Pointeur Struct</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-struct-func" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Struct et Fonctions</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-struct-nested" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Structs Imbriqu√©es</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-struct-array" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Tableau de Structs</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-struct-sizeof" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Sizeof Struct</span>
                            </a>
                            <!-- Entr√©es/Sorties -->
                            <div class="lesson-group-title">Entr√©es/Sorties</div>
                            <a href="#" class="lesson-item" data-lesson="c-putchar" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>√âcrire un Caract√®re</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-print" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Afficher une Cha√Æne</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-print-num" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Afficher un Nombre</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-screen-pixel" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Dessiner un Pixel</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-screen-line" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Ligne Horizontale</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-screen-rect" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Dessiner un Rectangle</span>
                            </a>
                            <!-- Projets -->
                            <div class="lesson-group-title">Projets</div>
                            <a href="#" class="lesson-item" data-lesson="c-sieve" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Crible d'√âratosth√®ne</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-collatz" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Suite de Collatz</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-project" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Projet Final</span>
                            </a>
                            <!-- Cache -->
                            <div class="lesson-group-title">Cache</div>
                            <a href="#" class="lesson-item" data-lesson="c-cache-row" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Parcours en Ligne</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-cache-col" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Parcours en Colonne</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-cache-block" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Traitement par Blocs</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="c-cache-temporal" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Localit√© Temporelle</span>
                            </a>
                        </div>
                    </div>

                    <!-- OS: Syst√®me -->
                    <div class="curriculum-week">
                        <button class="week-header" data-week="os-ex">
                            <span class="arrow">‚ñ∂</span>
                            <span class="week-title">OS: Syst√®me</span>
                            <span class="week-progress">0/15</span>
                        </button>
                        <div class="week-content collapsed" id="os-ex">
                            <a href="#" class="lesson-item" data-lesson="os-boot" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Bootstrap</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-bump" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Bump allocator</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-free" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Free list</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-screen" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Driver √©cran</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-font" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Police bitmap</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-console" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Console</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-kbd" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Driver clavier</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-shell" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Shell</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-calc" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Calculatrice</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-var" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Variables shell</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-timer" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Timer</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-irq" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Interruptions</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-coro" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Coroutines</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-sched" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Scheduler</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-project" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Projet 1: Mini-OS Shell</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="os-project2" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>Projet 2: Task Manager</span>
                            </a>
                        </div>
                    </div>

                    <!-- Compiler: Construction -->
                    <div class="curriculum-week">
                        <button class="week-header" data-week="compiler-ex">
                            <span class="arrow">‚ñ∂</span>
                            <span class="week-title">Compilateur: Construction</span>
                            <span class="week-progress">0/18</span>
                        </button>
                        <div class="week-content collapsed" id="compiler-ex">
                            <!-- Phase 1: Lexer -->
                            <div class="lesson-group-title">Phase 1: Lexer</div>
                            <a href="#" class="lesson-item" data-lesson="cc-lexer-digit" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>1.1 Reconna√Ætre Chiffre</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-lexer-number" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>1.2 Lire Nombre</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-lexer-token" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>1.3 Identifier Tokens</span>
                            </a>
                            <!-- Phase 2: Parser -->
                            <div class="lesson-group-title">Phase 2: Parser</div>
                            <a href="#" class="lesson-item" data-lesson="cc-parser-simple" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>2.1 √âvaluer a + b</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-parser-chain" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>2.2 √âvaluer a + b + c</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-parser-precedence" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>2.3 Pr√©c√©dence</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-parser-parens" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>2.4 Parenth√®ses</span>
                            </a>
                            <!-- Phase 3: √âmission -->
                            <div class="lesson-group-title">Phase 3: √âmission ASM</div>
                            <a href="#" class="lesson-item" data-lesson="cc-emit-mov" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>3.1 √âmettre MOV</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-emit-binop" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>3.2 √âmettre ADD/SUB/MUL</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-emit-stack" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>3.3 √âmettre PUSH/POP</span>
                            </a>
                            <!-- Phase 4: CodeGen Expressions -->
                            <div class="lesson-group-title">Phase 4: CodeGen Expressions</div>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-const" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>4.1 Compiler Constante</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-binop" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>4.2 Compiler a + b</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-expr" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>4.3 Expressions Compl√®tes</span>
                            </a>
                            <!-- Phase 5: Contr√¥le -->
                            <div class="lesson-group-title">Phase 5: Contr√¥le</div>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-labels" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>5.1 Labels</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-cmp" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>5.2 Comparaisons</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-if" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>5.3 Compiler if/else</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-while" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>5.4 Compiler while</span>
                            </a>
                            <!-- Phase 6: Fonctions -->
                            <div class="lesson-group-title">Phase 6: Fonctions</div>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-func" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>6.1 Prologue/√âpilogue</span>
                            </a>
                            <a href="#" class="lesson-item" data-lesson="cc-codegen-call" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>6.2 Appels Fonction</span>
                            </a>
                            <!-- Phase 7: Projet Final -->
                            <div class="lesson-group-title">Phase 7: Projet Final</div>
                            <a href="#" class="lesson-item" data-lesson="cc-mini-complete" data-mode="c">
                                <span class="status">‚óã</span>
                                <span>7.1 Mini-Compilateur</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Demos -->
                <div class="demos-section">
                    <h3>üéÆ D√©mos</h3>
                    <div class="demo-buttons">
                        <button class="demo-btn" data-demo="hello">Hello</button>
                        <button class="demo-btn" data-demo="fibonacci">Fibonacci</button>
                        <button class="demo-btn" data-demo="graphics">Graphics</button>
                        <button class="demo-btn" data-demo="snake">Snake</button>
                        <button class="demo-btn" data-demo="shell">Shell</button>
                        <button class="demo-btn" data-demo="coroutines">Coroutines</button>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Console -->
        <footer class="console">
            <div class="console-header">
                <span>Console</span>
                <button class="icon-btn small" id="btn-clear-console" title="Effacer">üóëÔ∏è</button>
            </div>
            <div class="console-output" id="console-output">
                <div class="log-line info">Bienvenue dans nand2tetris-codex !</div>
            </div>
            <div class="console-input-row">
                <span class="prompt">‚Ä∫</span>
                <input type="text" id="console-input" placeholder="Entr√©e...">
            </div>
        </footer>
    </div>

    <!-- Help Modal -->
    <div class="modal-backdrop" id="modal-help">
        <div class="modal">
            <div class="modal-header">
                <h2>Aide</h2>
                <button class="close-btn" data-close="modal-help">√ó</button>
            </div>
            <div class="modal-body">
                <h3>Raccourcis clavier</h3>
                <table class="shortcuts">
                    <tr><td><kbd>Ctrl</kbd>+<kbd>Enter</kbd></td><td>Ex√©cuter</td></tr>
                    <tr><td><kbd>Ctrl</kbd>+<kbd>S</kbd></td><td>Sauvegarder</td></tr>
                    <tr><td><kbd>F5</kbd></td><td>Run</td></tr>
                    <tr><td><kbd>F10</kbd></td><td>Step</td></tr>
                    <tr><td><kbd>Shift</kbd>+<kbd>F5</kbd></td><td>Stop</td></tr>
                </table>
            </div>
        </div>
    </div>

    <!-- Lesson Modal -->
    <div class="modal-backdrop" id="modal-lesson">
        <div class="modal modal-large">
            <div class="modal-header">
                <h2 id="lesson-title">Le√ßon</h2>
                <button class="close-btn" data-close="modal-lesson">√ó</button>
            </div>
            <div class="modal-body" id="lesson-content"></div>
            <div class="modal-footer">
                <button class="btn" id="btn-lesson-prev">‚Üê Pr√©c√©dent</button>
                <button class="btn primary" id="btn-lesson-done">‚úì Termin√©</button>
                <button class="btn" id="btn-lesson-next">Suivant ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Monaco Editor -->
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
