<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 380" width="650" height="380">
  <defs>
    <style>
      .box { stroke: #374151; stroke-width: 1.5; rx: 4; }
      .title-box { stroke: #059669; stroke-width: 2; fill: #d1fae5; rx: 6; }
      .step { font-family: sans-serif; font-size: 11px; fill: #1f2937; }
      .label { font-family: sans-serif; font-size: 10px; fill: #1f2937; }
      .title { font-family: sans-serif; font-size: 14px; font-weight: bold; fill: #059669; }
      .mono { font-family: monospace; font-size: 10px; fill: #1f2937; }
      .success { font-family: sans-serif; font-size: 11px; fill: #059669; font-weight: bold; }
      .arrow { stroke: #374151; stroke-width: 1.5; fill: none; }
      .field { stroke: #374151; stroke-width: 1; }
    </style>
    <marker id="arr" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#374151"/>
    </marker>
  </defs>

  <!-- Title -->
  <rect class="title-box" x="20" y="10" width="610" height="35"/>
  <text class="title" x="325" y="33" text-anchor="middle">CACHE HIT (Succes)</text>

  <!-- CPU Request -->
  <text class="step" x="30" y="70">CPU demande: "Je veux lire l'adresse 0x00001234"</text>

  <!-- Step 1: Extract fields -->
  <text class="step" x="30" y="100" font-weight="bold">Etape 1: Extraire les champs</text>

  <rect x="80" y="110" width="130" height="30" fill="#dbeafe" class="field"/>
  <text class="mono" x="145" y="130" text-anchor="middle">Tag = 0x00001</text>

  <rect x="210" y="110" width="120" height="30" fill="#dcfce7" class="field"/>
  <text class="mono" x="270" y="130" text-anchor="middle">Index = 0x23</text>

  <rect x="330" y="110" width="120" height="30" fill="#fef3c7" class="field"/>
  <text class="mono" x="390" y="130" text-anchor="middle">Offset = 0x4</text>

  <!-- Arrow down -->
  <line class="arrow" x1="270" y1="140" x2="270" y2="170" marker-end="url(#arr)"/>

  <!-- Step 2: Go to line -->
  <text class="step" x="30" y="190" font-weight="bold">Etape 2: Aller a la ligne 0x23 (35)</text>

  <!-- Cache line box -->
  <rect x="80" y="200" width="450" height="40" fill="#f3f4f6" class="box"/>
  <text class="label" x="30" y="225">Cache ligne 35:</text>

  <rect x="90" y="208" width="80" height="24" fill="#dcfce7" class="field"/>
  <text class="mono" x="130" y="224" text-anchor="middle">Valid=1</text>

  <rect x="180" y="208" width="130" height="24" fill="#dbeafe" class="field"/>
  <text class="mono" x="245" y="224" text-anchor="middle">Tag=0x00001</text>

  <rect x="320" y="208" width="200" height="24" fill="#fef3c7" class="field"/>
  <text class="mono" x="420" y="224" text-anchor="middle">Donnees [32 octets]</text>

  <!-- Step 3: Verify -->
  <text class="step" x="30" y="270" font-weight="bold">Etape 3: Verifier</text>

  <line class="arrow" x1="130" y1="240" x2="130" y2="280" marker-end="url(#arr)"/>
  <text class="label" x="145" y="265">Valid = 1?</text>
  <text class="success" x="145" y="280">OUI</text>

  <line class="arrow" x1="245" y1="240" x2="245" y2="280" marker-end="url(#arr)"/>
  <text class="label" x="260" y="265">Tag match?</text>
  <text class="success" x="260" y="280">OUI</text>

  <!-- Step 4: HIT -->
  <text class="step" x="30" y="320" font-weight="bold">Etape 4: C'est un HIT !</text>

  <rect x="80" y="330" width="350" height="40" fill="#d1fae5" class="box" stroke="#059669"/>
  <text class="success" x="255" y="350" text-anchor="middle">Retourner Donnees[Offset=4]</text>
  <text class="label" x="255" y="365" text-anchor="middle">Temps: ~1 ns</text>

  <!-- Success indicator -->
  <circle cx="580" cy="350" r="25" fill="#059669"/>
  <text x="580" y="355" text-anchor="middle" fill="white" font-family="sans-serif" font-size="20" font-weight="bold">OK</text>
</svg>
