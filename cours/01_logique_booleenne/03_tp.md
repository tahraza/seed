---
marp: true
theme: seed-tp
paginate: true
header: "Seed - TP Chapitre 01"
---

# TP Chapitre 01 : Construction des Portes Logiques

## Objectifs pratiques

- √âcrire du code HDL
- Impl√©menter les portes √©l√©mentaires
- Tester avec le simulateur
- Construire le Mux et DMux

**Dur√©e estim√©e :** 2h

**Pr√©requis :** TD Chapitre 01 termin√©

---

## Pr√©paration

### Acc√®s au Simulateur

üëâ [Ouvrir le Simulateur HDL](https://seed.music-music.fr/)

Allez dans la section **HDL Progression** pour acc√©der aux exercices.

**Alternative locale :**
```bash
cd web
npm install
npm run dev
# ‚Üí http://localhost:5173
```

---

## Rappel : Structure HDL

```vhdl
entity NomPuce is
  port(
    entree1 : in bit;
    entree2 : in bit;
    sortie  : out bit
  );
end entity;

architecture rtl of NomPuce is
  component AutrePuce
    port(a : in bit; b : in bit; y : out bit);
  end component;
  signal fil_interne : bit;
begin
  u1: AutrePuce port map (a => entree1, b => entree2, y => fil_interne);
  sortie <= fil_interne;
end architecture;
```

---

## Exercice 1 : NOT (Inverseur)

**Objectif :** Premi√®re porte en HDL

### Sp√©cification

| in | out |
|:--:|:---:|
| 0 | 1 |
| 1 | 0 |

### Indice

Connectez le m√™me signal aux deux entr√©es d'un NAND.

üëâ [Ouvrir l'exercice Inv](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity Inv is
  port(
    a : in bit;
    y : out bit
  );
end entity;

architecture rtl of Inv is
  component Nand
    port(a : in bit; b : in bit; y : out bit);
  end component;
begin
  -- TODO: Compl√©ter l'impl√©mentation
  -- u1: Nand port map (a => ?, b => ?, y => ?);
end architecture;
```

### Validation

‚úÖ Tous les tests passent dans le simulateur

<details>
<summary>Solution</summary>

```vhdl
u1: Nand port map (a => a, b => a, y => y);
```

</details>

---

## Exercice 2 : AND

**Objectif :** Utiliser NOT et NAND

### Sp√©cification

| a | b | y |
|:-:|:-:|:-:|
| 0 | 0 | 0 |
| 0 | 1 | 0 |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

### Indice

`AND(a, b) = NOT(NAND(a, b))`

üëâ [Ouvrir l'exercice And2](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity And2 is
  port(
    a : in bit;
    b : in bit;
    y : out bit
  );
end entity;

architecture rtl of And2 is
  component Nand
    port(a : in bit; b : in bit; y : out bit);
  end component;
  component Inv
    port(a : in bit; y : out bit);
  end component;
  signal w : bit;
begin
  -- TODO: Compl√©ter
end architecture;
```

### Validation

‚úÖ Tous les tests passent

<details>
<summary>Solution</summary>

```vhdl
u1: Nand port map (a => a, b => b, y => w);
u2: Inv port map (a => w, y => y);
```

</details>

---

## Exercice 3 : OR

**Objectif :** Appliquer De Morgan

### Sp√©cification

| a | b | y |
|:-:|:-:|:-:|
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 1 |

### Indice

`OR(a, b) = NAND(NOT(a), NOT(b))`

üëâ [Ouvrir l'exercice Or2](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity Or2 is
  port(
    a : in bit;
    b : in bit;
    y : out bit
  );
end entity;

architecture rtl of Or2 is
  component Nand
    port(a : in bit; b : in bit; y : out bit);
  end component;
  component Inv
    port(a : in bit; y : out bit);
  end component;
  signal not_a, not_b : bit;
begin
  -- TODO: Compl√©ter
end architecture;
```

<details>
<summary>Solution</summary>

```vhdl
u_nota: Inv port map (a => a, y => not_a);
u_notb: Inv port map (a => b, y => not_b);
u_nand: Nand port map (a => not_a, b => not_b, y => y);
```

</details>

---

## Exercice 4 : XOR

**Objectif :** Circuit plus complexe

### Sp√©cification

| a | b | y |
|:-:|:-:|:-:|
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 1 |
| 1 | 1 | 0 |

### Formule

```
XOR(a, b) = (a AND NOT b) OR (NOT a AND b)
```

üëâ [Ouvrir l'exercice Xor2](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity Xor2 is
  port(
    a : in bit;
    b : in bit;
    y : out bit
  );
end entity;

architecture rtl of Xor2 is
  component Inv port(a : in bit; y : out bit); end component;
  component And2 port(a, b : in bit; y : out bit); end component;
  component Or2 port(a, b : in bit; y : out bit); end component;
  signal not_a, not_b, w1, w2 : bit;
begin
  -- TODO: Compl√©ter
end architecture;
```

<details>
<summary>Solution</summary>

```vhdl
u_nota: Inv port map (a => a, y => not_a);
u_notb: Inv port map (a => b, y => not_b);
u_and1: And2 port map (a => a, b => not_b, y => w1);
u_and2: And2 port map (a => not_a, b => b, y => w2);
u_or: Or2 port map (a => w1, b => w2, y => y);
```

</details>

---

## Exercice 5 : Multiplexeur (Mux)

**Objectif :** L'aiguilleur de donn√©es

### Sp√©cification

- Si `sel = 0` alors `y = a`
- Si `sel = 1` alors `y = b`

### Formule

```
y = (a AND NOT sel) OR (b AND sel)
```

üëâ [Ouvrir l'exercice Mux](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity Mux is
  port(
    a   : in bit;
    b   : in bit;
    sel : in bit;
    y   : out bit
  );
end entity;

architecture rtl of Mux is
  component Inv port(a : in bit; y : out bit); end component;
  component And2 port(a, b : in bit; y : out bit); end component;
  component Or2 port(a, b : in bit; y : out bit); end component;
  signal not_sel, w1, w2 : bit;
begin
  -- TODO: Compl√©ter
end architecture;
```

<details>
<summary>Solution</summary>

```vhdl
u_not: Inv port map (a => sel, y => not_sel);
u_and1: And2 port map (a => a, b => not_sel, y => w1);
u_and2: And2 port map (a => b, b => sel, y => w2);
u_or: Or2 port map (a => w1, b => w2, y => y);
```

</details>

---

## Exercice 6 : D√©multiplexeur (DMux)

**Objectif :** Le routeur de signal

### Sp√©cification

- Si `sel = 0` alors `a = in, b = 0`
- Si `sel = 1` alors `a = 0, b = in`

### Formules

```
a = in AND NOT sel
b = in AND sel
```

üëâ [Ouvrir l'exercice DMux](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity DMux is
  port(
    input : in bit;
    sel   : in bit;
    a     : out bit;
    b     : out bit
  );
end entity;

architecture rtl of DMux is
  component Inv port(a : in bit; y : out bit); end component;
  component And2 port(a, b : in bit; y : out bit); end component;
  signal not_sel : bit;
begin
  -- TODO: Compl√©ter
end architecture;
```

<details>
<summary>Solution</summary>

```vhdl
u_not: Inv port map (a => sel, y => not_sel);
u_a: And2 port map (a => input, b => not_sel, y => a);
u_b: And2 port map (a => input, b => sel, y => b);
```

</details>

---

## Exercice 7 : Or8Way (D√©fi)

**Objectif :** Porte multi-entr√©es

### Sp√©cification

Sortie = 1 si **au moins un** des 8 bits d'entr√©e vaut 1.

```
Or8Way(a[0..7]) = a[0] OR a[1] OR ... OR a[7]
```

### Structure en arbre

```
Niveau 1: Or2(a[0],a[1])‚Üít0  Or2(a[2],a[3])‚Üít1 ...
Niveau 2: Or2(t0, t1)‚Üít4     Or2(t2, t3)‚Üít5
Niveau 3: Or2(t4, t5)‚Üíy
```

üëâ [Ouvrir l'exercice Or8Way](https://seed.music-music.fr/)

---

### Code √† compl√©ter

```vhdl
entity Or8Way is
  port(
    a : in bits(7 downto 0);
    y : out bit
  );
end entity;

architecture rtl of Or8Way is
  component Or2 port(a, b : in bit; y : out bit); end component;
  signal t0, t1, t2, t3, t4, t5 : bit;
begin
  -- Niveau 1
  -- TODO
  -- Niveau 2
  -- TODO
  -- Niveau 3
  -- TODO
end architecture;
```

<details>
<summary>Solution</summary>

```vhdl
-- Niveau 1
u0: Or2 port map (a => a(0), b => a(1), y => t0);
u1: Or2 port map (a => a(2), b => a(3), y => t1);
u2: Or2 port map (a => a(4), b => a(5), y => t2);
u3: Or2 port map (a => a(6), b => a(7), y => t3);
-- Niveau 2
u4: Or2 port map (a => t0, b => t1, y => t4);
u5: Or2 port map (a => t2, b => t3, y => t5);
-- Niveau 3
u6: Or2 port map (a => t4, b => t5, y => y);
```

</details>

---

## Exercice 8 : And32 avec Generate (D√©fi)

**Objectif :** Utiliser la boucle `for generate`

### Sp√©cification

AND bit-√†-bit sur deux bus de 32 bits.

```vhdl
entity And32 is
  port(
    a : in bits(31 downto 0);
    b : in bits(31 downto 0);
    y : out bits(31 downto 0)
  );
end entity;

architecture rtl of And32 is
  component And2 port(a, b : in bit; y : out bit); end component;
begin
  gen: for i in 0 to 31 generate
    u: And2 port map (a => a(i), b => b(i), y => y(i));
  end generate;
end architecture;
```

üëâ [Ouvrir l'exercice And32](https://seed.music-music.fr/)

### Question

Combien de portes And2 ce circuit contient-il ?

<details>
<summary>R√©ponse</summary>

**32 portes And2** ‚Äî une pour chaque bit du bus.

</details>

---

## R√©capitulatif

### Portes impl√©ment√©es

| Porte | Composants utilis√©s | Difficult√© |
|:------|:--------------------|:----------:|
| Inv (NOT) | 1 NAND | ‚≠ê |
| And2 | 1 NAND + 1 NOT | ‚≠ê |
| Or2 | 2 NOT + 1 NAND | ‚≠ê |
| Xor2 | 2 NOT + 2 AND + 1 OR | ‚≠ê‚≠ê |
| Mux | 1 NOT + 2 AND + 1 OR | ‚≠ê‚≠ê |
| DMux | 1 NOT + 2 AND | ‚≠ê‚≠ê |
| Or8Way | 7 OR | ‚≠ê‚≠ê |
| And32 | 32 AND (generate) | ‚≠ê‚≠ê‚≠ê |

---

## Validation Finale

### Checklist

Avant de passer au chapitre suivant, v√©rifiez :

- [ ] Tous les tests de Inv passent
- [ ] Tous les tests de And2 passent
- [ ] Tous les tests de Or2 passent
- [ ] Tous les tests de Xor2 passent
- [ ] Tous les tests de Mux passent
- [ ] Tous les tests de DMux passent

### Prochaine √©tape

‚û°Ô∏è **Chapitre 02 : Arithm√©tique** ‚Äî Construire un additionneur et une ALU !

üìö **R√©f√©rence :** Livre Seed, Chapitre 01 - Logique Bool√©enne
